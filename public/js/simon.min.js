$(document).ready(function(){"use strict";function ka(){ja=0,ia=[];var a=Math.floor(4*Math.random())+1;ha.push(a),ma()}function ma(){na(),setTimeout(function(){la+=1,la<=ha.length?ma():la=0},700)}function na(){1==ha[la]?(i.play(),va()):2==ha[la]?(i.play(),wa()):3==ha[la]?(i.play(),xa()):4==ha[la]&&(i.play(),ya())}function oa(){ia[ja]==ha[ja]?(ja+=1,ja==ha.length&&ka()):pa()}function pa(){sa()}function qa(){Aa(),r.animate({opacity:"1"},1e3),C.animate({opacity:"1"},1e3),X.delay(300).animate({opacity:"1"},1e3),B.delay(300).animate({opacity:"1"},1e3),A.delay(800).animate({opacity:"1"},1e3),_.delay(800).animate({opacity:"1"},1e3),s.delay(900).animate({opacity:"1"},1e3),z.delay(900).animate({opacity:"1"},1e3),t.delay(1e3).animate({opacity:"1"},1e3),y.delay(1e3).animate({opacity:"1"},1e3),t.delay(1200).animate({opacity:"1"},1e3),y.delay(1200).animate({opacity:"1"},1e3),u.delay(1400).animate({opacity:"1"},1e3),x.delay(1400).animate({opacity:"1"},1e3),v.delay(1600).animate({opacity:"1"},1e3),w.delay(1600).animate({opacity:"1"},1e3),q.delay(2e3).animate({opacity:"1"},2e3),setTimeout(function(){d.play()},2e3),setTimeout(function(){e.play()},4200),D.delay(4200).animate({opacity:"1"},200),E.delay(4300).animate({opacity:"1"},200),F.delay(4400).animate({opacity:"1"},200),G.delay(4500).animate({opacity:"1"},200),H.delay(4600).animate({opacity:"1"},200),I.delay(4700).animate({opacity:"1"},200),J.delay(4800).animate({opacity:"1"},200),setTimeout(function(){g.play()},4900),K.delay(4900).animate({opacity:"1"},3e3),setTimeout(function(){f.play()},6e3),L.delay(6e3).animate({opacity:"1"},2e3),0==ga&&setTimeout(function(){ra()},8e3)}function ra(){o.play(),setTimeout(function(){j.play()},2e3),Q.delay(18e3).animate({opacity:"1"},1e3)}function sa(){ga=!0,clearTimeout(ea),clearTimeout(fa),W.html("Would you like to try again?"),q.animate({opacity:"0"},2e3),D.delay(1e3).animate({opacity:"0"},200),E.delay(1200).animate({opacity:"0"},200),F.delay(1400).animate({opacity:"0"},200),G.delay(1600).animate({opacity:"0"},200),H.delay(1800).animate({opacity:"0"},200),I.delay(2e3).animate({opacity:"0"},200),J.delay(2200).animate({opacity:"0"},200),w.delay(2400).animate({opacity:"0"},500),v.delay(2400).animate({opacity:"0"},500),u.delay(2900).animate({opacity:"0"},500),x.delay(2900).animate({opacity:"0"},500),t.delay(3400).animate({opacity:"0"},500),y.delay(3400).animate({opacity:"0"},500),t.delay(3900).animate({opacity:"0"},500),y.delay(3900).animate({opacity:"0"},500),s.delay(4400).animate({opacity:"0"},500),z.delay(4400).animate({opacity:"0"},500),A.delay(4900).animate({opacity:"0"},500),_.delay(4900).animate({opacity:"0"},500),aa.delay(4900).animate({opacity:"0"},500),ba.delay(4900).animate({opacity:"0"},500),X.delay(5400).animate({opacity:"0"},500),Y.delay(5400).animate({opacity:"0"},500),Z.delay(5400).animate({opacity:"0"},500),B.delay(5400).animate({opacity:"0"},500),r.delay(5900).animate({opacity:"0"},500),C.delay(5900).animate({opacity:"0"},500),L.delay(6400).animate({opacity:"0"},2e3),K.delay(7400).animate({opacity:"0"},3e3),setTimeout(function(){Q.css({display:"block"})},9400)}function ua(){S.css({background:"red"}),T.css({background:"red"}),U.css({background:"red"}),V.css({background:"red"}),da.css({opacity:"1"}),ca.css({opacity:"1"}),_.hide(),aa.show(),X.hide(),Y.show(),setTimeout(function(){C.css({background:"white"})},200),setTimeout(function(){C.css({background:"red"})},400),setTimeout(function(){B.css({background:"white"})},400),setTimeout(function(){B.css({background:"red"})},600),setTimeout(function(){A.css({background:"white"})},600),setTimeout(function(){A.css({background:"red"})},800),setTimeout(function(){aa.hide(),ba.show()},800),setTimeout(function(){ba.hide(),aa.show()},1e3),setTimeout(function(){z.css({background:"white"})},1e3),setTimeout(function(){z.css({background:"red"})},1200),setTimeout(function(){y.css({background:"white"})},1200),setTimeout(function(){y.css({background:"red"})},1400),setTimeout(function(){x.css({background:"white"})},1400),setTimeout(function(){x.css({background:"red"})},1600),setTimeout(function(){w.css({background:"white"})},1600),setTimeout(function(){w.css({background:"red"})},1800),setTimeout(function(){r.css({background:"white"})},200),setTimeout(function(){r.css({background:"red"})},400),setTimeout(function(){Y.hide(),Z.show()},400),setTimeout(function(){Z.hide(),Y.show()},600),setTimeout(function(){s.css({background:"white"})},600),setTimeout(function(){s.css({background:"red"})},800),setTimeout(function(){t.css({background:"white"})},800),setTimeout(function(){t.css({background:"red"})},1e3),setTimeout(function(){u.css({background:"white"})},1e3),setTimeout(function(){u.css({background:"red"})},1200),setTimeout(function(){v.css({background:"white"})},1200),setTimeout(function(){v.css({background:"red"})},1400),fa=setTimeout(ua,2e3)}function va(){M.animate({opacity:"1"},250),M.delay(250).animate({opacity:"0"},250)}function wa(){O.animate({opacity:"1"},250),O.delay(250).animate({opacity:"0"},250)}function xa(){N.animate({opacity:"1"},250),N.delay(250).animate({opacity:"0"},250)}function ya(){P.animate({opacity:"1"},250),P.delay(250).animate({opacity:"0"},250)}function za(){b.play(),ea=setTimeout(za,1e4)}function Aa(){a.play(),a.volume=.3,c.play()}var a=new Audio("/sounds/voyagerBridge.mp3"),b=new Audio("/sounds/redAlert4.mp3"),c=new Audio("/sounds/computerActivate.mp3"),d=new Audio("/sounds/computerWork.mp3"),e=new Audio("/sounds/computerScroll.mp3"),f=new Audio("/sounds/computerPowerup.mp3"),g=new Audio("/sounds/computerPowerup2.mp3"),h=new Audio("/sounds/computerDamage.mp3"),i=new Audio("/sounds/alert.mp3"),j=new Audio("/sounds/borg.mp3"),o=(new Audio("/sounds/futile.mp3"),new Audio("/sounds/powerDown.mp3"),new Audio("/sounds/powerHold.mp3"),new Audio("/sounds/warpcoreCollapse.mp3"),new Audio("/sounds/incoming.mp3"));h.volume=.1,o.volume=.5,j.volume=.5;var ea,fa,q=($(".container"),$("#shieldTitle")),r=$("#topLeftBox"),s=$("#leftHookMiniBox"),t=$("#topShortBox"),u=$("#topLongBox"),v=$("#topFinalBox"),w=$("#botFinalBox"),x=$("#botLongBox"),y=$("#thinBox"),z=$("#midHookMiniBox"),A=$("#midLeftBox"),B=$("#midLeftBoxSm"),C=$("#botLeftBox"),D=$("#firstLine"),E=$("#secondLine"),F=$("#thirdLine"),G=$("#fourthLine"),H=$("#fifthLine"),I=$("#sixthLine"),J=$("#seventhLine"),K=$("#voyager"),L=$("#voyagerShields"),M=$("#indicatorTop"),N=$("#indicatorBottom"),O=$("#indicatorRight"),P=$("#indicatorLeft"),Q=$("#promptReady"),R=$("#readyYes"),S=$(".purple"),T=$(".mustard"),U=$(".pink"),V=$(".brown"),W=$("#readyText"),X=$("#topLeftHook"),Y=$("#topLeftHookRed"),Z=$("#topLeftHookWhite"),_=$("#midHook"),aa=$("#midHookRed"),ba=$("#midHookWhite"),ca=$(".midHook"),da=$(".topLeftHook"),ga=!1,ha=[],ia=[],ja=0,la=0;$(document).keyup(function(a){var b=a.keyCode;38==b?(ia.push(1),oa()):40==b?(ia.push(3),oa()):37==b?(ia.push(4),oa()):39==b&&(ia.push(2),oa())});R.click(function(a){1==ga?(ha=[],qa(),setTimeout(function(){Q.css({display:"none"}),ua(),za(),setTimeout(function(){ka()},5e3)},5e3)):(Q.css({display:"none"}),ua(),za(),setTimeout(function(){ka()},5e3))}),qa()});